---
// Banner informativo de cookies - não bloqueia scripts
---

<div id="cookie-banner" class="fixed bottom-0 left-0 right-0 z-50 p-4 hidden">
  <div class="max-w-4xl mx-auto bg-white rounded-2xl shadow-2xl border border-gray-100 p-6 flex flex-col sm:flex-row items-start sm:items-center gap-4">
    <div class="flex-1">
      <p class="text-gray-700 text-sm leading-relaxed">
        Utilizamos cookies para melhorar sua experiência, personalizar conteúdo e analisar nosso tráfego.
        Ao continuar navegando, você concorda com nossa
        <a href="/politica-de-privacidade" class="text-purple-600 hover:text-purple-800 underline">Política de Privacidade</a>.
      </p>
    </div>
    <button
      id="cookie-accept"
      class="flex-shrink-0 px-6 py-2.5 text-sm font-semibold text-white rounded-full transition-all duration-300 hover:scale-105"
      style="background: linear-gradient(135deg, #523AC5 0%, #7c5ce7 100%);"
    >
      Entendi
    </button>
  </div>
</div>

<script is:inline>
  (function() {
    // Verifica se já aceitou
    if (localStorage.getItem('cookie-consent') === 'accepted') {
      return;
    }

    // Mostra o banner após pequeno delay para não atrapalhar LCP
    setTimeout(function() {
      var banner = document.getElementById('cookie-banner');
      if (banner) {
        banner.classList.remove('hidden');
        banner.style.animation = 'slideUp 0.3s ease-out';
      }
    }, 1500);

    // Evento de aceitar
    document.addEventListener('click', function(e) {
      if (e.target && e.target.id === 'cookie-accept') {
        localStorage.setItem('cookie-consent', 'accepted');
        var banner = document.getElementById('cookie-banner');
        if (banner) {
          banner.style.animation = 'slideDown 0.3s ease-out';
          setTimeout(function() {
            banner.classList.add('hidden');
          }, 300);
        }
      }
    });
  })();
</script>

<style>
  @keyframes slideUp {
    from {
      transform: translateY(100%);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  @keyframes slideDown {
    from {
      transform: translateY(0);
      opacity: 1;
    }
    to {
      transform: translateY(100%);
      opacity: 0;
    }
  }
</style>
